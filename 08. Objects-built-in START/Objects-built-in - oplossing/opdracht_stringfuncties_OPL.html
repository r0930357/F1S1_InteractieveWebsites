<!doctype html>
<html lang="nl">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Opdrachten les 6: built-in objecten</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <link rel="shortcut icon" href="#">
</head>

<body>
    <div class="container">

        <h3>Opdracht Stringfuncties</h3>


        <div class="row">
            <div class="col-md-12">

                <form name="frmTekst">
                    <div class="row ">
                        <div class="col-md-12 mb-3">
                            <label for="tekst">Geef een woord/zin in:</label>
                            <input type="text" id="tekst">
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-md-12 mb-3">
                            <textarea name="result" id="result" cols="50" rows="10"></textarea>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-md-12 mb-3">
                            <button class="btn btn-primary btn-lg  mb-2" id="palindroom" type="button">Palindroom</button>
                            <button class="btn btn-primary btn-lg  mb-2" id="lwoord" type="button">Langste
                                woord</button>
                            <button class="btn btn-primary btn-lg  mb-2" id="klinkers" type="button">Klinkers</button>
                            <button class="btn btn-primary btn-lg  mb-2" id="turven" type="button">Turflijst</button>

                        </div>
                    </div>
                </form>

            </div>
        </div>

    </div>

    <script>
        // Naam + datum
        let res = document.querySelector('#result');

        isPalindroom = () => {
                let str = frmTekst.tekst.value.toLowerCase();
                /* ## OPLOSSING ZONER LOOP */
                // let re = /[\W_]/g;
                let lowRegStr = str.toLowerCase(); // .replace(re, '');
                let reverseStr = lowRegStr.split('').reverse().join('');

                if (reverseStr === lowRegStr) {
                    res.innerHTML = '"' + str + '" is WEL een palindroom';
                } else {
                    res.innerHTML = '"' + str + '" is GEEN palindroom';
                }
                /* ## OPLOSSING MET LOOP */
                /*
                // let re = /[^A-Za-z0-9]/g; 
                str = str.toLowerCase(); // .replace(re, '');
                let len = str.length;
                for (let i = 0; i < len / 2; i++) {
                	if (str[i] !== str[len - 1 - i]) {
                		res.innerHTML = str + ' is GEEN palindroom';
                	}
                }
                res.innerHTML = str + ' is WEL een palindroom';
                */
            }
            // console.log(isPalindroom("A man, a plan, a canal. Panama"));

        vindLangsteWoord = () => {
            let str = frmTekst.tekst.value.toLowerCase();
            let aSplit = str.split(' ');
            let lenLangsteWoord = 0;
            let langsteWood = '';

            for (let i = 0; i < aSplit.length; i++) {
                if (aSplit[i].length > lenLangsteWoord) {
                    lenLangsteWoord = aSplit[i].length;
                    langsteWood = aSplit[i];
                }
            }
            res.innerHTML = 'Het langste woord is "' + langsteWood + '" met ' + lenLangsteWoord + ' karakters';
        }

        klinkersTellen = () => {
            let str = frmTekst.tekst.value.toLowerCase();
            let vcount = 0;
            const vowel_list = 'aeiouAEIOU';

            for (let x = 0; x < str.length; x++) {
                if (vowel_list.indexOf(str[x]) !== -1) {
                    vcount += 1;
                }
            }
            res.innerHTML = 'Het aantal klinkers is ' + vcount;
        }

        turfLijstKar = () => {
            let str = frmTekst.tekst.value.toLowerCase();
            let strSplit = str.split('');
            let aTurf = new Array(26).fill(0);
            console.log(aTurf);

            for (let i = 0; i < strSplit.length; i++) {
                let kar = strSplit[i].charCodeAt(0);
                if (kar >= 97 && kar <= 122) {
                    aTurf[kar - 97]++; // enkel kleine letters tellen
                }
            }

            res.innerHTML = '';
            for (let i = 0; i < aTurf.length; i++) {
                res.innerHTML += (aTurf[i] != 0) ? String.fromCharCode(i + 97) + ': ' + aTurf[i] + ' \n' : '';
            }
        }


        document.querySelector('#palindroom').addEventListener('click', isPalindroom);
        document.querySelector('#lwoord').addEventListener('click', vindLangsteWoord);
        document.querySelector('#klinkers').addEventListener('click', klinkersTellen);
        document.querySelector('#turven').addEventListener('click', turfLijstKar);
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/bootstrap.js"></script>
</body>

</html>