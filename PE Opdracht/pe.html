<!doctype html>
<html lang="nl">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>r0930357 - Tom Belmans - PE Opdracht</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

<!-- Constructie van body in HTML-code -->
<body>
  <!-- Een div "main" wordt aangesproken in Bootstrap met de klasse "container". -->
  <main class="container">


    <h1>Registreer</h1>
    <p class="lead"> Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
    <div class="row">

      <!-- De pagina is verdeeld in 2 kolommen. Een linker kolom van 8 met het formulier. Een rechterkolom van 4 met daarin de meldingen. -->
      <!-- De linker kolom wordt gedefinieerd met de klasse "col-md-8". -> Deze heeft een breedte van 8 -->
      <div class="col-md-8">
        <!-- Een formulier wordt aangesproken met de klasse "row g-3" -> Tussen elke regel wordt een rijspatie van 3 voorzien. -->
        <form class="row g-3"> <!-- action="" method="post"> -->

          <!-- Input-veld: "Voornaam" -->
          <div class="col-md-6">
            <label for="voornaam" class="form-label">Voornaam</label>
            <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam">
          </div>
          <!-- Input-veld: "Naam" -->
          <div class="col-md-6">
            <label for="naam" class="form-label">Naam</label>
            <input type="text" class="form-control" id="familienaam" placeholder="Uw naam">
          </div>

          <!-- Input-veld: "Gebruikersnaam" -->
          <div class="col-md-6">
            <label class="form-label" for="gebruikersnaam">Gebruikersnaam</label>
            <!-- Het @-symbool wordt aan de linkerkant van het input-veld "Gebruikersnaam" voorzien -->
            <div class="input-group">
              <div class="input-group-text">@</div>
              <input type="text" class="form-control" id="gebruikersnaam" placeholder="u911236">
            </div>
          </div>
          <!-- Input-veld: "E-mailadres" -->
          <div class="col-md-6">
            <label for="email" class="form-label">E-mailadres</label>
            <input type="text" class="form-control" id="email" placeholder="mail@example.be">
          </div>

          <!-- Input-veld "Wachtwoord" -->
          <div class="col-md-6">
            <label for="wachtwoord" class="form-label">Wachtwoord</label>
            <input type="password" class="form-control" id="wachtwoord">
            <p class="wachtwoordMinKarakters"></p>
          </div>
          <!-- Input-veld "Herhaal wachtwoord" -->
          <div class="col-md-6">
            <label for="herhaalWachtwoord" class="form-label">Herhaal wachtwoord</label>
            <input type="password" class="form-control" id="herhaalWachtwoord">
          </div>

          <!-- Input-veld "Adres" -->
          <div class="col-md-12">
            <label for="adres" class="form-label">Adres</label>
            <input type="text" class="form-control" id="adres">
          </div>

          <!-- Input-veld "Land" -->
          <div class="col-md-5">
            <label for="land" class="form-label">Land</label>
            <select id="land" class="form-select">
              <option selected>Kies een land</option>
              <option>België</option>
              <option>Nederland</option>
              <option>Luxemburg</option>
            </select>
          </div>
          <!-- Input-veld "Provincie" -->
          <div class="col-md-4">
            <label for="provincie" class="form-label">Provincie</label>
            <select id="provincie" class="form-select">
              <option selected>Kies een provincie</option>
              <option>Antwerpen</option>
              <option>Henegouwen</option>
              <option>Limburg</option>
              <option>Luik</option>
              <option>Luxemburg</option>
              <option>Namen</option>
              <option>Oost-Vlaanderen</option>
              <option>Vlaams Braband</option>
              <option>Waals Braband</option>
              <option>West-Vlaanderen</option>
            </select>
          </div>
          <!-- Input-veld "Poscode" -->
          <div class="col-md-3">
            <label for="postcode" class="form-label">Postcode</label>
            <input type="text" class="form-control" id="postcode">
          </div>

          <hr>

          <!-- Sectie: "Hou me op de hoogte" -->
          <div class="col-md-7">
            <h2>Hou me op de hoogte</h2>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="nieuwsbrief">
              <label class="form-check-label" for="nieuwsbrief">
                Inschrijven voor onze nieuwsbrief
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="algemeneVoorwaarden">
              <label class="form-check-label" for="algemeneVoorwaarden">
                Ik ga akkoord met de algemene voorwaarden.
              </label>
            </div>
          </div>
          <!-- Sectie: "Betaling" -->
          <div class="col-md-5">
            <h2>Betaling</h2>
            <!-- Sectie keuez: "Banking app" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkBankingApp" value="option1"
                checked>
              <label class="form-check-label" for="exampleRadios1">
                Banking app
              </label>
            </div>
            <!-- Sectie keuez: "Overschrijving" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkOverschrijving" value="option2">
              <label class="form-check-label" for="exampleRadios2">
                Overschrijving
              </label>
            </div>
            <!-- Sectie keuez: "Visa card" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkVisaCard" value="option3">
              <label class="form-check-label" for="exampleRadios3">
                Visa card
              </label>
            </div>
            <!-- Sectie keuez: "Paypal" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkPaypal" value="option4">
              <label class="form-check-label" for="exampleRadios4">
                Paypal
              </label>
            </div>
          </div>

          <hr>

          <!-- De knop "Verzenden" onderaan het formulier-->
          <div class="d-grid gap-2">
            <button class="btn btn-primary btn-lg" type="button" id="verzendKnop"> <strong>Verzenden</strong> </button>
          </div>
        </form>
      </div>

      <!-- De rechter kolom wordt gedefinieerd met de klasse "col-md". -> Deze vult de resterende breedte op aan de rechter kant van het scherm -->
      <div class="col-md" >
        <!-- Rode kader -> Indien er velden niet correct ingevuld zijn worden er waarschuwingen weergegeven. -->
        <div class="alert alert-danger" role="alert" style="display: none;">
          <h4>Yikes, errors...</h4>
          <p id="foutmeldingen">
            <!-- Hier worden de foutmeldingen weergegeven. -->
          </p>
        </div>
        <!-- Groene kader -> Indien alle velden correct zijn ingevuld geeft deze een melding weer. -->
        <div class="alert alert-success" role="alert" style="display: none;">
          <h4>Goed gedaan!</h4>
          <p>Aww yeah, je werd geregistreerd.</p>
        </div>
        <!-- Licht blauiwe kader -> Dit heeft betrekking tot de geselecteerde betaalwijze. -->
        <div class="alert alert-info" role="alert" style="display: none;">
          <h4>Betalingswijze</h4>
          <p id="betalingwijze"></p>
        </div>
      </div>
    </div>

    <!-- Javascript -->
    <!-- Eigen code -->
    <script>
      // getElementById best vervangen door querySelector.
      // querySelector is veel krachtiger en je kan ook met klasses werken.
      // bij id = (#id) , bij class = (.class)

      // Declaratie van de variabelen die verwijzen naar de klassen of id's in het HTML-script
      let submitKnop = document.querySelector(".btn-primary");
      let input_voornaam = document.querySelector('#voornaam');
      let input_familienaam = document.querySelector('#familienaam');
      let input_gebruikersnaam = document.querySelector('#gebruikersnaam');
      let input_email = document.querySelector("#email");
      let input_wachtwoord = document.querySelector("#wachtwoord");
      let input_herhaalWachtwoord = document.querySelector("#herhaalWachtwoord");
      let input_adres = document.querySelector("#adres");
      let input_land = document.querySelector("#land");
      let input_provincie = document.querySelector("#provincie");
      let input_postcode = document.querySelector("#postcode");
      let input_algemeneVoorwaarden = document.querySelector("#algemeneVoorwaarden");
      let input_bankingApp = document.querySelector("#chkBankingApp");
      let input_overschrijving = document.querySelector("#chkOverschrijving");
      let input_visacard = document.querySelector("#chkVisaCard");
      let input_paypal = document.querySelector("#chkPaypal");
      
      // Declaratie van de arrays "errors" en "betalingswijze".
      let errors = [];
      let betalingswijze = [];
      
      // FUNCTIES

      /* Controle leeg veld
      Voor de controle van een leeg veld gebruik je een functie checkEmptyField waar je steeds 2 parameters gaat meegeven: veld en melding.
      Voeg na controle in deze functie de melding toe aan de array errors.
      Indien het veld leeg is geef je bijvoorbeeld volgende melding “Het veld voornaam is vereist.”.
      */
      let veld = ['input_voornaam', 'input_familienaam', 'input_gebruikersnaam', 'input_adres', 'input_land', 'input_provincie'];
      let melding = (`Het veld ${veld.id} is vereist.`);

      veld.forEach(checkEmptyField)
        function checkEmptyField(veld, melding) {
        if (veld.value === '') {
          errors.push(melding)
        }
      }

       //Functie om te controleren of het veld "achternaam" is ingevuld.
      function familienaamVerplicht() {
        let familienaam = input_familienaam.value;
        if (familienaam === '') {
          errors.push('Het veld naam is vereist.')
        }
      }

       //Functie om te controleren of het veld "gebruikersnaam" is ingevuld.
      function gebruikersnaamVerplicht() {
        let gebruikersnaam = input_gebruikersnaam.value;
        if (gebruikersnaam === '') {
          errors.push('Het veld gebruikersnaam is vereist.')
        }
      }

       //Functie om te controleren of het veld "adres" is ingevuld.
      function adresVerplicht() {
        let adres = input_adres.value;
        if (adres === '') {
          errors.push('Adres is vereist.')
        }
      }
       
       //Functie om te controleren of het veld "land" is ingevuld.
      function landVerplicht() {
        let land = input_land.value;
        if (land === 'Kies een land') {
          errors.push('Het veld land is vereist.')
        }
      }

       //Functie om te controleren of het veld "provincie" is ingevuld.
      function provincieVerplicht() {
        let provincie = input_provincie.value;
        if (provincie === 'Kies een provincie') {
          errors.push('Provincie is vereist.')
        }
      }

      /* Controle e-mailadres
      Voor de controle of het een geldig e-mailadres is gebruik je de functie validateEmail waar je één parameter meegeeft namelijk: e-mailadres.
      Deze functie geeft een boolean terug.
      Indien de controle niet geldig is voeg je de melding “E-mailaders is niet correct.” toe aan de array errors.
      Controleer zeker volgende zaken:
      • De gebruikersnaam van het mailadres moet voldoen aan volgende criteria:
        o Moet minstens één karakter lang zijn
        o Mag letters, nummers of underscores bevatten
        o Mag punten of koppeltekens bevatten, maar niet als eerste karakter
      • Het domein van het mailadres moet voldoen aan volgende criteria:
        o Moet starten met een letter of nummer
        o Mag een punt of koppelteken(s) bevatten
      Werk je met regular expression (RegEx)? Test deze dan online uit op bijvoorbeeld https://regexr.com.
      */
      function validateEmail() {
      let email = input_email.value;
      let emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
      let isGeldig = emailRegex.test(email);
      if (!isGeldig) {
        errors.push("E-mailadres is niet correct.");
        }
      return isGeldig;
      }

      /* Controleer ook of de algemene voorwaarden zijn aangeduid.
      Dit is verplicht.
      Voeg een melding toe aan de array errors.
      bron: https://www.javatpoint.com/how-to-check-a-radio-button-using-javascript
      */
      function algemeneVoorwaardenVerplicht() {
        let algemenevoorwaarden = input_algemeneVoorwaarden.checked;
        if (algemenevoorwaarden == false) {
          errors.push('Je moet de algemente voorwaarden accpeteren.')
        }
      }

      /* Controle postcode
      Voor de controle van de postcode gebruik je een functie checkPC waar je één parameter meegeeft namelijk: veld.
      Indien het veld leeg is geef je de melding “Het veld postcode is vereist.”.
      De waarde moet ook groter of gelijk zijn aan 1000 en kleiner dan 10000. Dus van 1000 t.e.m. 9999 is geldig!
      Geef anders de melding “De waarde van postcode moet tussen 1000 en 9999 liggen.”.
      Voeg deze meldingen toe aan de array errors.
      */
      function checkPC() {
        let postcode = input_postcode.value;
        if (postcode === '') {
          errors.push('Je hebt geen geldige postcode ingevuld')
        } else if (postcode < 1000 || postcode > 9999) {
          errors.push('De waarde van de postcode moet tussen 1000 en 9999 liggen!')
        }
      }

      /* Controle wachtwoord
      Voor de controle van de wachtwoorden controleer je of beide zijn ingevuld.
      Dit mag maar hoeft niet via een functie.
      Een wachtwoord moet langer zijn dan 7 karakters en moet steeds gelijk zijn aan het herhalend wachtwoord.
      Er kunnen dus 4 meldingen voorkomen: 2 voor de lege velden, 1 indien het te kort is en 1 wanneer ze niet gelijk zijn aan elkaar.
      Voeg de meldingen toe aan de array errors.
      */
      function wachtwoordControle() {
        let wachtwoord1 = input_wachtwoord.value;
        let wachtwoord2 = input_herhaalWachtwoord.value
        if (wachtwoord1 === '') {
          errors.push('Het veld wachtwoord is vereist.')
          } if (wachtwoord2 === '') {
          errors.push('Het veld herhaal wachtwoord is vereist.')
          } else if (wachtwoord1.length < 8 || wachtwoord2.length < 8) {
          document.querySelector(".wachtwoordMinKarakters").innerText = "Je wachtwoord moet minstens 8 tekens lang zijn"
          errors.push('Je wachtwoord moet minstens 8 tekens lang zijn')
        } else if (wachtwoord1 !== wachtwoord2) {
          errors.push('Je wachtwoorden komen niet overeen!')
        }
      }

      /* Controle betalingswijze
      Voor de controle of er een betalingswijze is aangeduid, gebruik je de functie validatePayment waar je één parameter meegeeft namelijk: veld.
      In deze functie vul je de P-tag binnen de blauwe (betalingswijze) alert op.
      “Overschrijving” in het voorbeeld is variabel.
      Dit zou dus ook “banking app”, “visa card” of “paypal” kunnen zijn naargelang wat de gebruiker had aangeduid.
      */
      function validatePayment() {
        let validatieBankingApp = input_bankingApp.checed;
        let validatieOverschrijving = input_overschrijving.checked;
        let validatieVisaCard = input_visacard.checked;
        let validatiePaypal = input_paypal.checked;
        if (validatieOverschrijving == true) {
          betalingswijze.push('Je betalingswijze is Overschrijving')
        } else if (validatieVisaCard == true) {
          betalingswijze.push('Je betalingswijze is Visa Card')
        } else if (validatiePaypal == true) {
          betalingswijze.push('Je betalingswijze is Paypal')
        } else
          betalingswijze.push('Je betalingswijze is Banking app')
      }

      // geeft de array "errors" weer indien deze er zijn.
      errors.forEach(toonFoutmeldingen)
      function toonFoutmeldingen() {
          document.querySelector('#foutmeldingen').innerText += errors.join('\n');
      }

      // geeft de waarde uit de array "betalingswijze" weer
      betalingswijze.forEach(toonBetalingswijze)
      function toonBetalingswijze() {
          document.querySelector('#betalingwijze').innerText = betalingswijze;
      }

      /* Geef op het einde ofwel de array errors weer, ofwel de groene en de blauwe alert samen.
      Verberg de ALERT-meldingen via jouw script.
      */

      // Functie om de rode banner te tonen met foutmeldingen
		  function ErrorBanner() {
        let errormeldingen = document.querySelector(".alert-danger");
        if (errors.length !== 0) { errormeldingen.style.display = "block"; }
        else { errormeldingen.style.display = "none"; }
      }

      // Functie om de groene banner te tonen met de melding dat de registratie is gelukt
      function GoedGedaanBanner() {
      let goedgedaan = document.querySelector(".alert-success");
      if (errors.length === 0) { goedgedaan.style.display = "block"; }
      else { goedgedaan.style.display = "none"; }
      }

      // Functie om de blauwe banner te tonen met vermelding van de betalingswijze
      function BetalingswijzeBanner() {
      let betalingswijze = document.querySelector(".alert-info");
      if (errors.length === 0) { betalingswijze.style.display = "block"; }
      else { betalingswijze.style.display = "none"; }
      }

      // Deze functie maakt de lijsten met foutmeldingen en de betalingswijze leeg
      function maakLijstenLeeg() {
         errors = [];
         document.querySelector('#foutmeldingen').innerHTML = errors;
         betalingswijze = [];
         document.querySelector('#betalingwijze').innerText = betalingswijze;
         document.querySelector(".wachtwoordMinKarakters").innerText = "";
      }

      /* Bij het klikken op de knop trigger je de functie validateForm.
      In deze functie controleer je alle velden of spreek je eventueel andere functies aan.
      */
      function validateForm() {
          maakLijstenLeeg(),
          //checkEmptyField(),
          familienaamVerplicht(),
          gebruikersnaamVerplicht(),
          adresVerplicht(),
          landVerplicht(),
          provincieVerplicht(),
          validateEmail(),
          wachtwoordControle(),
          algemeneVoorwaardenVerplicht(),
          checkPC(),
          validatePayment(),
          toonBetalingswijze(),
          toonFoutmeldingen()
          ErrorBanner(),
          GoedGedaanBanner(),
          BetalingswijzeBanner()};
      
      // Eventlistener op de submit knop
      submitKnop.addEventListener('click', () => {
          validateForm()});
      </script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
    </script>

</body>
</html>