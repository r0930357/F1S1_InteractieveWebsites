<!doctype html>
<html lang="nl">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>r0930357 - Tom Belmans - PE Opdracht</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

<!-- Constructie van body in HTML-code -->
<body>
  <!-- Een div "main" wordt aangesproken in Bootstrap met de klasse "container". -->
  <main class="container">


    <h1>Registreer</h1>
    <p class="lead"> Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
    <div class="row">

      <!-- De pagina is verdeeld in 2 kolommen. Een linker kolom van 8 met het formulier. Een rechterkolom van 4 met daarin de meldingen. -->
      <!-- De linker kolom wordt gedefinieerd met de klasse "col-md-8". -> Deze heeft een breedte van 8 -->
      <div class="col-md-8">
        <!-- Een formulier wordt aangesproken met de klasse "row g-3" -> Tussen elke regel wordt een rijspatie van 3 voorzien. -->
        <form class="row g-3"> <!-- action="" method="post"> -->

          <!-- Input-veld: "Voornaam" -->
          <div class="col-md-6">
            <label for="voornaam" class="form-label">Voornaam</label>
            <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam">
          </div>
          <!-- Input-veld: "Naam" -->
          <div class="col-md-6">
            <label for="naam" class="form-label">Naam</label>
            <input type="text" class="form-control" id="familienaam" placeholder="Uw naam">
          </div>

          <!-- Input-veld: "Gebruikersnaam" -->
          <div class="col-md-6">
            <label class="form-label" for="gebruikersnaam">Gebruikersnaam</label>
            <!-- Het @-symbool wordt aan de linkerkant van het input-veld "Gebruikersnaam" voorzien -->
            <div class="input-group">
              <div class="input-group-text">@</div>
              <input type="text" class="form-control" id="gebruikersnaam" placeholder="u911236">
            </div>
          </div>
          <!-- Input-veld: "E-mailadres" -->
          <div class="col-md-6">
            <label for="email" class="form-label">E-mailadres</label>
            <input type="text" class="form-control" id="email" placeholder="mail@example.be">
          </div>

          <!-- Input-veld "Wachtwoord" -->
          <div class="col-md-6">
            <label for="wachtwoord" class="form-label">Wachtwoord</label>
            <input type="password" class="form-control" id="wachtwoord">
            <p class="wachtwoordMinKarakters"></p>
          </div>
          <!-- Input-veld "Herhaal wachtwoord" -->
          <div class="col-md-6">
            <label for="herhaalWachtwoord" class="form-label">Herhaal wachtwoord</label>
            <input type="password" class="form-control" id="herhaalWachtwoord">
          </div>

          <!-- Input-veld "Adres" -->
          <div class="col-md-12">
            <label for="adres" class="form-label">Adres</label>
            <input type="text" class="form-control" id="adres">
          </div>

          <!-- Input-veld "Land" -->
          <div class="col-md-5">
            <label for="land" class="form-label">Land</label>
            <select id="land" class="form-select">
              <option selected>Kies een land</option>
              <option>...</option>
            </select>
          </div>
          <!-- Input-veld "Provincie" -->
          <div class="col-md-4">
            <label for="provincie" class="form-label">Provincie</label>
            <select id="provincie" class="form-select">
              <option selected>Kies een provincie</option>
              <option>...</option>
            </select>
          </div>
          <!-- Input-veld "Poscode" -->
          <div class="col-md-3">
            <label for="postcode" class="form-label">Postcode</label>
            <input type="text" class="form-control" id="postcode">
          </div>

          <hr>

          <!-- Sectie: "Hou me op de hoogte" -->
          <div class="col-md-7">
            <h2>Hou me op de hoogte</h2>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="nieuwsbrief">
              <label class="form-check-label" for="nieuwsbrief">
                Inschrijven voor onze nieuwsbrief
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="algemeneVoorwaarden">
              <label class="form-check-label" for="algemeneVoorwaarden">
                Ik ga akkoord met de algemene voorwaarden.
              </label>
            </div>
          </div>
          <!-- Sectie: "Betaling" -->
          <div class="col-md-5">
            <h2>Betaling</h2>
            <!-- Sectie keuez: "Banking app" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkBankingApp" value="option1"
                checked>
              <label class="form-check-label" for="exampleRadios1">
                Banking app
              </label>
            </div>
            <!-- Sectie keuez: "Overschrijving" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkOverschrijving" value="option2">
              <label class="form-check-label" for="exampleRadios2">
                Overschrijving
              </label>
            </div>
            <!-- Sectie keuez: "Visa card" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkVisaCard" value="option3">
              <label class="form-check-label" for="exampleRadios3">
                Visa card
              </label>
            </div>
            <!-- Sectie keuez: "Paypal" -->
            <div class="form-check">
              <input class="form-check-input" type="radio" name="exampleRadios" id="chkPaypal" value="option4">
              <label class="form-check-label" for="exampleRadios4">
                Paypal
              </label>
            </div>
          </div>

          <hr>

          <!-- De knop "Verzenden" onderaan het formulier-->
          <div class="d-grid gap-2">
            <button class="btn btn-primary btn-lg" type="button" id="verzendKnop"> <strong>Verzenden</strong> </button>
          </div>
        </form>
      </div>

      <!-- De rechter kolom wordt gedefinieerd met de klasse "col-md". -> Deze vult de resterende breedte op aan de rechter kant van het scherm -->
      <div class="col-md">
        <!-- Rode kader -> Indien er velden niet correct ingevuld zijn worden er waarschuwingen weergegeven. -->
        <div class="alert alert-danger" id="error_banner" role="alert">
          <h4>Yikes, errors...</h4>
          <p id="foutmeldingen">
            <!-- Hier worden de foutmeldingen weergegeven. -->
          </p>
        </div>
        <!-- Groene kader -> Indien alle velden correct zijn ingevuld geeft deze een melding weer. -->
        <div class="alert alert-success" role="alert">
          <h4>Goed gedaan!</h4>
          <p>Aww yeah, je werd geregistreerd.</p>
        </div>
        <!-- Licht blauiwe kader -> Dit heeft betrekking tot de geselecteerde betaalwijze. -->
        <div class="alert alert-info" id="betalingswijze_banner" role="alert">
          <h4>Betalingswijze</h4>
          <p id="betalingwijze"></p>
        </div>
      </div>
    </div>

    <!-- Javascript -->
    <!-- Eigen code -->
    <script>
      // getElementById best vervangen door querySelector.
      // querySelector is veel krachtiger en je kan ook met klasses werken.
      // bij id = (#id) , bij class = (.class)

      // Declareer de variabelen
      let submitKnop = document.querySelector(".btn-primary")
      let input_voornaam = document.querySelector("#voornaam")
      let input_familienaam = document.querySelector("#familienaam")
      let input_gebruikersnaam = document.querySelector("#gebruikersnaam")
      let input_email = document.querySelector("#email")
      let input_wachtwoord = document.querySelector("#wachtwoord")
      let input_herhaalWachtwoord = document.querySelector("#herhaalWachtwoord")
      let input_adres = document.querySelector("#adres")
      let input_land = document.querySelector("#land")
      let input_provincie = document.querySelector("#provincie")
      let input_postcode = document.querySelector("#postcode")
      let input_algemeneVoorwaarden = document.querySelector("#algemeneVoorwaarden")
      let input_bankingApp = document.querySelector("#chkBankingApp")
      let input_overschrijving = document.querySelector("#chkOverschrijving")
      let input_visacard = document.querySelector("#chkVisaCard")
      let input_paypal = document.querySelector("#chkPaypal")
      
      let errors = [];
      let betalingswijze = [];
      
      // FUNCTIES
      // Functie om alle lijsten leeg te maken
      function maakLijstenLeeg() {
         errors = [];
         document.querySelector('#foutmeldingen').innerHTML = errors
         betalingswijze = []
         document.querySelector('#betalingwijze').innerText = betalingswijze
         document.querySelector(".wachtwoordMinKarakters").innerText = ""
         console.clear()
      }

      // Functie om te controleren of het veld "voornaam" is ingevuld.
      function voornaamVerplicht() {
        let value = input_voornaam.value;
        if (value === '') {
          errors.push('Het veld voornaam is vereist.')
          console.log('voornaam niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "achternaam" is ingevuld.
      function familienaamVerplicht() {
        let value = input_familienaam.value;
        if (value === '') {
          errors.push('Het veld naam is vereist.')
          console.log('naam niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "gebruikersnaam" is ingevuld.
      function gebruikersnaamVerplicht() {
        let value = input_gebruikersnaam.value;
        if (value === '') {
          errors.push('Het veld gebruikersnaam is vereist.')
          console.log('gebruikersnaam niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "email" is ingevuld.
      function emailVerplicht() {
        let value = input_email.value;
        if (value === '') {
          errors.push('Het veld email is vereist.')
          console.log('email niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "adres" is ingevuld.
      function adresVerplicht() {
        let value = input_adres.value;
        if (value === '') {
          errors.push('Adres is vereist.')
          console.log('adres niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "land" is ingevuld.
      function landVerplicht() {
        let value = input_land.value;
        if (value === 'Kies een land') {
          console.log('land niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "provincie" is ingevuld.
      function provincieVerplicht() {
        let value = input_provincie.value;
        if (value === 'Kies een provincie') {
          errors.push('Provincie is vereist.')
          console.log('provincie niet ingevuld')
        }
      }

      // Functie om te controleren of het veld "algemenet voorwaarden" is ingevuld.
      // bron: https://www.javatpoint.com/how-to-check-a-radio-button-using-javascript
      function algemeneVoorwaardenVerplicht() {
        let value = input_algemeneVoorwaarden.checked;
        if (value == false) {
          errors.push('Je moet de algemente voorwaarden accpeteren.')
          console.log('algemene voorwaarden niet geaccepteerd')
        }
      }

      // Functie om te controleren of het veld "postcode" is ingevuld en of de waarde die ingevuld wordt in veld "postcode" groter of gelijk is aan 1000 en kleiner is dan 10000.
      function checkPC() {
        let value = input_postcode.value;
        if (value === '') {
          errors.push('Je hebt geen geldige postcode ingevuld')
          console.log('postcode niet ingevuld')
        } else if (value < 1000 || value > 9999) {
          errors.push('De waarde van de postcode moet tussen 1000 en 9999 liggen!')
          console.log('postcode niet tussen 1000 en 9999')
        }
      }

      // Functie om te controleren of het veld "wachtwoord" is ingevuld, of de het wachtwoord gelijk is aan het herhaalWachtwoord en het wachtwoord groter is dan 7 karakters.
      function wachtwoordControle() {
        let value = input_wachtwoord.value;
          if (value === '') {
          errors.push('Het veld wachtwoord is vereist.')
          } else if (value < 8) {
          console.log('Wachtwoord is te kort')
          document.querySelector(".wachtwoordMinKarakters").innerText = "<p>Je wachtwoord moet minstens 8 tekens lang zijn<p>"
        } else if (input_wachtwoord.value !== input_herhaalWachtwoord.value) {
          errors.push('Je wachtwoorden komen niet overeen!')
          console.log('wachtwoorden komen niet overeen')
        }
      }

      // Functie om de betalingswijze te controleren.
      function validatePayment() {
        let validatieBankingApp = input_bankingApp.checed;
        let validatieOverschrijving = input_overschrijving.checked;
        let validatieVisaCard = input_visacard.checked;
        let validatiePaypal = input_paypal.checked;
        if (validatieOverschrijving == true) {
          betalingswijze.push('Je betalingswijze is Overschrijving')
        } else if (validatieVisaCard == true) {
          betalingswijze.push('Je betalingswijze is Visa Card')
        } else if (validatiePaypal == true) {
          betalingswijze.push('Je betalingswijze is Paypal')
        } else
          betalingswijze.push('Je betalingswijze is Banking app')
      }

      // geeft de array "errors" weer indien deze er zijn.
      errors.forEach(toonFoutmeldingen)
      function toonFoutmeldingen() {
          document.querySelector('#foutmeldingen').innerText += errors.join('\n');
      }

      // geeft de waarde uit de array "betalingswijze" weer
      betalingswijze.forEach(toonBetalingswijze)
      function toonBetalingswijze() {
          document.querySelector('#betalingwijze').innerText = betalingswijze;
      }

      // Eventlistener op de submit knop
      submitKnop.addEventListener('click', () => {
      maakLijstenLeeg(), voornaamVerplicht(), familienaamVerplicht(), gebruikersnaamVerplicht(), emailVerplicht(), wachtwoordControle(), adresVerplicht(), landVerplicht(), provincieVerplicht(), algemeneVoorwaardenVerplicht(), checkPC(), validatePayment(), toonFoutmeldingen(), toonBetalingswijze()});

      </script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
    </script>

</body>
</html>